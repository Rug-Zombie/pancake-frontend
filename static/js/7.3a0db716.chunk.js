(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[7],{1029:function(e,t,n){"use strict";n.r(t);var c,r,a,s=n(32),o=n(0),i=n.n(o),l=n(31),b=n(19),u=n.n(b),j=n(57),d=n(25),O=n(832),x=n.n(O),p=n(871),h=n.n(p),m=n(127),f=function(e,t){var n=Object(o.useState)((function(){try{var n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(c){return e}})),c=Object(s.a)(n,2),r=c[0],a=c[1];return Object(o.useEffect)((function(){localStorage.setItem(t,JSON.stringify(r))}),[r,t]),[r,a]},g=n(72),k=n(42),y=n(5),v=y.e.div(c||(c=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  & > * {\n    min-width: 280px;\n    max-width: 31.5%;\n    width: 100%;\n    margin: 0 8px;\n    margin-bottom: 32px;\n  }\n"]))),w=n(227),S=n(6),C=n(336),F=n(334),T=n(12),D=Object(y.e)(d.f)(r||(r=Object(k.a)(["\n  background: ",";\n"])),(function(e){var t=e.theme;return e.background||t.colors.gradients.bubblegum})),I=Object(y.e)(F.a)(a||(a=Object(k.a)(["\n  padding-top: 32px;\n  padding-bottom: 32px;\n"]))),B=function(e){var t=e.background,n=e.children,c=Object(C.a)(e,["background","children"]);return Object(T.jsx)(D,Object(S.a)(Object(S.a)({background:t},c),{},{children:Object(T.jsx)(I,{children:n})}))},P=n(747),A=n(17),E=n(216),L=n(218),z=function(e,t,n,c){var r=new u.a(t).times(c).times(L.d),a=new u.a(e).times(n),s=r.div(a).times(100);return s.isNaN()||!s.isFinite()?null:s.toNumber()},H=function(e){var t=e.numberOfDays,n=e.farmApr,c=e.tokenPrice,r=e.roundingDecimals,a=void 0===r?2:r,s=e.compoundFrequency,o=void 0===s?1:s,i=e.performanceFee,l=void 0===i?0:i,b=365*o,u=n/100;l&&(u=(n-n/100*l)/100);var j=t/365,d=1e3/c,O=d*Math.pow(1+u/b,b*j);return parseFloat((O-d).toFixed(a))},U=function(e){return e.amountEarned/e.amountInvested*100},M=n(774),R=n.n(M),V=function(e){var t=e.value,n=e.fontSize,c=e.color,r=e.decimals,a=e.isDisabled,s=e.unit,i=e.bold,l=Object(o.useRef)(0);return Object(o.useEffect)((function(){l.current=t}),[t]),Object(T.jsxs)(d.O,{bold:i,color:a?"textDisabled":c,fontSize:n,children:[Object(T.jsx)(R.a,{start:l.current,end:t,decimals:r,duration:1,separator:","}),t&&s&&Object(T.jsx)("span",{children:s})]})};V.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var K,N,Y,q,W,Z,G,J,Q,X,_,$,ee,te,ne,ce,re,ae,se,oe,ie,le,be=V,ue=y.e.div(K||(K=Object(k.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(4, auto);\n  margin-bottom: 24px;\n"]))),je=y.e.div(N||(N=Object(k.a)(["\n  margin-bottom: '10px';\n"]))),de=function(e){var t=e.onDismiss,n=e.tokenPrice,c=e.apr,r=e.linkLabel,a=e.linkHref,s=e.earningTokenSymbol,o=void 0===s?"CAKE":s,i=e.roundingDecimals,l=void 0===i?2:i,b=e.compoundFrequency,u=void 0===b?1:b,j=e.performanceFee,O=void 0===j?0:j,x=Object(m.b)().t,p=1e3/n,h=H({numberOfDays:1,farmApr:c,tokenPrice:n,roundingDecimals:l,compoundFrequency:u,performanceFee:O}),f=H({numberOfDays:7,farmApr:c,tokenPrice:n,roundingDecimals:l,compoundFrequency:u,performanceFee:O}),g=H({numberOfDays:30,farmApr:c,tokenPrice:n,roundingDecimals:l,compoundFrequency:u,performanceFee:O}),k=H({numberOfDays:365,farmApr:c,tokenPrice:n,roundingDecimals:l,compoundFrequency:u,performanceFee:O});return Object(T.jsxs)(d.E,{title:"ROI",onDismiss:t,children:[Object(T.jsxs)(ue,{children:[Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",mb:"20px",children:x("Timeframe")})}),Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",mb:"20px",children:x("ROI")})}),Object(T.jsx)(je,{children:Object(T.jsxs)(d.O,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",mb:"20px",children:[o," ",x("per")," $1000"]})}),Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{children:"1d"})}),Object(T.jsx)(je,{children:Object(T.jsxs)(d.O,{children:[U({amountEarned:h,amountInvested:p}).toFixed(l),"%"]})}),Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{children:h})}),Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{children:"7d"})}),Object(T.jsx)(je,{children:Object(T.jsxs)(d.O,{children:[U({amountEarned:f,amountInvested:p}).toFixed(l),"%"]})}),Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{children:f})}),Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{children:"30d"})}),Object(T.jsx)(je,{children:Object(T.jsxs)(d.O,{children:[U({amountEarned:g,amountInvested:p}).toFixed(l),"%"]})}),Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{children:g})}),Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{children:"365d(APY)"})}),Object(T.jsx)(je,{children:Object(T.jsxs)(d.O,{children:[U({amountEarned:k,amountInvested:p}).toFixed(l),"%"]})}),Object(T.jsx)(je,{children:Object(T.jsx)(d.O,{children:k})})]}),Object(T.jsxs)(d.f,{mb:"28px",maxWidth:"280px",children:[Object(T.jsx)(d.O,{fontSize:"12px",color:"textSubtle",children:x("Calculated based on current rates. Compounding %freq%x daily. Rates are estimates provided for your convenience only, and by no means represent guaranteed returns.",{fee:u.toLocaleString()})}),O&&Object(T.jsx)(d.O,{mt:"14px",fontSize:"12px",color:"textSubtle",children:x("All estimated rates take into account this pool's %fee%% performance fee",{fee:O})})]}),Object(T.jsx)(d.t,{justifyContent:"center",children:Object(T.jsx)(d.z,{href:a,children:r})})]})},Oe=function(e){var t=e.pool,n=e.stakingTokenPrice,c=e.isAutoVault,r=void 0!==c&&c,a=e.compoundFrequency,o=void 0===a?1:a,i=e.performanceFee,l=void 0===i?0:i,b=Object(m.b)().t,u=t.stakingToken,j=t.earningToken,O=t.totalStaked,x=t.isFinished,p=t.tokenPerBlock,h=Object(d.ab)(b("APY includes compounding, APR doesn\u2019t. This pool\u2019s CAKE is compounded automatically, so we show APY."),{placement:"bottom-end"}),f=h.targetRef,k=h.tooltip,y=h.tooltipVisible,v=Object(g.e)(j.address?Object(A.a)(j.address):""),w=z(n,v,Object(E.b)(O,u.decimals),parseFloat(p)),S=Math.round(v/1e3)>0,C=S?4:2,F=u.address&&"".concat(L.b,"/#/swap?outputCurrency=").concat(u.address[56]),D=Object(d.Z)(Object(T.jsx)(de,{tokenPrice:v,apr:w,linkLabel:"".concat(b("Get")," ").concat(u.symbol),linkHref:F||L.b,earningTokenSymbol:j.symbol,roundingDecimals:S?4:2,compoundFrequency:o,performanceFee:l})),I=Object(s.a)(D,1)[0];return Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",children:[y&&k,Object(T.jsxs)(d.S,{ref:f,children:[b(r?"APY":"APR"),":"]}),x||!w?Object(T.jsx)(d.K,{width:"82px",height:"32px"}):Object(T.jsxs)(d.t,{alignItems:"center",children:[Object(T.jsx)(be,{fontSize:"16px",isDisabled:x,value:function(){if(r){var e=1e3/v,t=H({numberOfDays:365,farmApr:w,tokenPrice:v,roundingDecimals:C,compoundFrequency:o,performanceFee:l});return U({amountEarned:t,amountInvested:e})}return w}(),decimals:2,unit:"%",bold:!0}),Object(T.jsx)(d.w,{onClick:I,variant:"text",scale:"sm",children:Object(T.jsx)(d.j,{color:"textSubtle",width:"18px"})})]})]})},xe=Object(y.e)(d.k)(Y||(Y=Object(k.a)(["\n  max-width: 352px;\n  margin: 0 8px 24px;\n  background: ",";\n  border-radius: 32px;\n  display: flex;\n  color: ",";\n  box-shadow: ",";\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n\n  "," {\n    margin: 0 12px 46px;\n  }\n"])),(function(e){return e.theme.card.background}),(function(e){var t=e.isFinished;return e.theme.colors[t?"textDisabled":"secondary"]}),(function(e){return e.isStaking?"0px 0px 0px 2px #53DEE9;":"0px 2px 12px -8px rgba(25, 19, 38, 0.1), 0px 1px 1px rgba(25, 19, 38, 0.05)"}),(function(e){return e.theme.mediaQueries.sm})),pe=function(e){return Object(T.jsx)(d.N,Object(S.a)(Object(S.a)({variant:"secondary",outline:!0,startIcon:Object(T.jsx)(d.I,{width:"18px",color:"secondary",mr:"4px"})},e),{},{children:"Manual"}))},he=function(e){return Object(T.jsx)(d.N,Object(S.a)(Object(S.a)({variant:"success",outline:!0,startIcon:Object(T.jsx)(d.b,{width:"18px",color:"success",mr:"4px"})},e),{},{children:"Auto"}))},me=n(232),fe=Object(y.e)(d.t)(q||(q=Object(k.a)(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]))),ge=function(e){var t,n=e.pool,c=e.account,r=e.performanceFee,a=void 0===r?0:r,s=e.isAutoVault,o=void 0!==s&&s,i=e.totalCakeInVault,l=Object(m.b)().t,b=Object(g.a)().currentBlock,u=n.stakingToken,j=n.earningToken,O=n.totalStaked,x=n.startBlock,p=n.endBlock,h=n.isFinished,f=n.contractAddress,k=j.address?Object(A.a)(j.address):"",y=Object(A.a)(f),v=Object(A.e)(),w="".concat(L.c,"/images/tokens/").concat(j.symbol.toLowerCase(),".png"),S=!!(null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask),C=Boolean(!h&&x&&p),F=Math.max(x-b,0),D=Math.max(p-b,0),I=0===F&&D>0,B=Object(d.ab)(l("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-end"}),P=B.targetRef,z=B.tooltip,H=B.tooltipVisible;return Object(T.jsxs)(fe,{flexDirection:"column",children:[Object(T.jsxs)(d.t,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(T.jsx)(d.O,{small:!0,children:l("Total staked:")}),Object(T.jsx)(d.t,{alignItems:"flex-start",children:O?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(be,{fontSize:"14px",value:o?Object(E.b)(i,u.decimals):Object(E.b)(O,u.decimals)}),Object(T.jsx)(d.O,{ml:"4px",fontSize:"14px",children:u.symbol})]}):Object(T.jsx)(d.K,{width:"90px",height:"21px"})})]}),C&&Object(T.jsxs)(d.t,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(T.jsxs)(d.O,{small:!0,children:[l(I?"End":"Start"),":"]}),Object(T.jsxs)(d.t,{alignItems:"center",children:[D||F?Object(T.jsx)(be,{color:"primary",fontSize:"14px",value:I?D:F,decimals:0}):Object(T.jsx)(d.K,{width:"54px",height:"21px"}),Object(T.jsx)(d.O,{ml:"4px",color:"primary",small:!0,children:l("blocks")}),Object(T.jsx)(d.P,{ml:"4px",color:"primary"})]})]}),o&&Object(T.jsxs)(d.t,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[H&&z,Object(T.jsx)(d.S,{ref:P,small:!0,children:l("Performance Fee")}),Object(T.jsx)(d.t,{alignItems:"center",children:Object(T.jsxs)(d.O,{ml:"4px",small:!0,children:[a/100,"%"]})})]}),Object(T.jsx)(d.t,{mb:"2px",justifyContent:"flex-end",children:Object(T.jsx)(d.z,{bold:!1,small:!0,href:j.projectLink,children:l("View Project Site")})}),y&&Object(T.jsx)(d.t,{mb:"2px",justifyContent:"flex-end",children:Object(T.jsx)(d.z,{bold:!1,small:!0,href:"".concat(L.a,"/address/").concat(o?v:y),children:l("View Contract")})}),c&&S&&k&&Object(T.jsxs)(d.t,{justifyContent:"flex-end",children:[Object(T.jsx)(d.O,{color:"primary",small:!0,onClick:function(){return Object(me.a)(k,j.symbol,j.decimals,w)},children:"Add to Metamask"}),Object(T.jsx)(d.C,{ml:"4px"})]})]})},ke=i.a.memo(ge),ye=Object(y.e)(d.t)(W||(W=Object(k.a)(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]))),ve=function(e){var t=e.pool,n=e.account,c=e.performanceFee,r=void 0===c?0:c,a=e.isAutoVault,i=void 0!==a&&a,l=e.totalCakeInVault,b=Object(m.b)().t,u=Object(o.useState)(!1),j=Object(s.a)(u,2),O=j[0],x=j[1],p=b("You must harvest and compound your earnings from this pool manually."),h=b("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),f=Object(d.ab)(i?h:p,{placement:"bottom-end"}),g=f.targetRef,k=f.tooltip,y=f.tooltipVisible;return Object(T.jsxs)(d.m,{children:[Object(T.jsxs)(ye,{children:[Object(T.jsxs)(d.t,{alignItems:"center",children:[i?Object(T.jsx)(he,{}):Object(T.jsx)(pe,{}),y&&k,Object(T.jsx)(d.f,{ref:g,children:Object(T.jsx)(d.v,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),Object(T.jsx)(d.r,{expanded:O,onClick:function(){return x(!O)},children:b(O?"Hide":"Details")})]}),O&&Object(T.jsx)(ke,{pool:t,account:n,performanceFee:r,isAutoVault:i,totalCakeInVault:l})]})},we=Object(y.e)(d.n)(Z||(Z=Object(k.a)(["\n  background: ",";\n"])),(function(e){var t=e.isFinished,n=(e.background,e.theme);return t?"#101820":n.colors.primary})),Se=function(e){var t=e.earningTokenSymbol,n=e.stakingTokenSymbol,c=e.isFinished,r=void 0!==c&&c,a=e.isAutoVault,s=void 0!==a&&a,o=Object(m.b)().t,i="".concat(n,".png").toLowerCase(),l="CAKE"===t&&"CAKE"===n;return Object(T.jsx)(we,{isFinished:r,color:"#101820",children:Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",children:[Object(T.jsxs)(d.t,{flexDirection:"column",children:[Object(T.jsx)(d.u,{color:r?"textDisabled":"body",size:"lg",children:"Earn ".concat(t," NFT")}),Object(T.jsx)(d.O,{color:r?"textDisabled":"textSubtle",children:s?"".concat(o("Automatic restaking")):l?"".concat(o("Earn CAKE, stake CAKE")):"".concat(o("Stake")," ").concat(n)})]}),Object(T.jsx)(d.x,{src:"/images/pools/".concat(i),alt:t,width:64,height:64})]})})},Ce=n(4),Fe=n(3),Te=n.n(Fe),De=n(8),Ie=n(751),Be=n(48),Pe=n(109),Ae=n(738),Ee=n(730),Le=n(128),ze=function(e){var t=e.pool,n=e.isLoading,c=void 0!==n&&n,r=t.sousId,a=t.stakingToken,i=t.earningToken,l=t.isFinished,b=Object(m.b)().t,u=Object(Ee.c)(a.address?Object(A.a)(a.address):""),O=Object(o.useState)(!1),x=Object(s.a)(O,2),p=x[0],h=x[1],f=function(e,t){var n=Object(Be.b)(),c=Object(j.c)().account,r=Object(Ee.f)(t);return{onApprove:Object(o.useCallback)(Object(De.a)(Te.a.mark((function a(){var s;return Te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Ae.a)(e,r,c);case 3:return s=a.sent,n(Object(Pe.f)(t,c)),a.abrupt("return",s);case 8:return a.prev=8,a.t0=a.catch(0),a.abrupt("return",!1);case 11:case"end":return a.stop()}}),a,null,[[0,8]])}))),[c,n,e,r,t])}}(u,r).onApprove,g=Object(Le.a)(),k=g.toastSuccess,y=g.toastError,v=Object(o.useCallback)(Object(De.a)(Te.a.mark((function e(){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,f();case 4:e.sent?(k("".concat(b("Contract Enabled")),"".concat(b("You can now stake in the ".concat(i.symbol," pool!")))),h(!1)):(y("".concat(b("Error")),"".concat(b("Please try again. Confirm the transaction and make sure you are paying enough gas!"))),h(!1)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),y("Error",null===e.t0||void 0===e.t0?void 0:e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),[f,h,k,y,b,i]);return Object(T.jsx)(T.Fragment,{children:c?Object(T.jsx)(d.K,{width:"100%",height:"52px"}):Object(T.jsx)(d.g,{isLoading:p,endIcon:p?Object(T.jsx)(d.b,{spin:!0,color:"currentColor"}):null,disabled:l||p,onClick:v,width:"100%",children:b("Enable")})})},He=n(221),Ue=Object(y.e)(d.y)(G||(G=Object(k.a)(["\n  width: 100%;\n"]))),Me=function(e){var t=e.tokenSymbol,n=e.onDismiss,c=Object(m.b)().t,r=Object(He.a)().theme;return Object(T.jsxs)(d.E,{title:"".concat(t," ").concat(c("required")),onDismiss:n,headerBackground:r.colors.gradients.cardHeader,children:[Object(T.jsx)(d.O,{color:"failure",bold:!0,children:c("Insufficient %tokensymbol% balance",{tokensymbol:t})}),Object(T.jsx)(d.O,{mt:"24px",children:c("You\u2019ll need %tokensymbol% to stake in this pool!",{tokensymbol:t})}),Object(T.jsx)(d.O,{children:c("Buy some %tokensymbol%, or make sure your %tokensymbol% isn\u2019t in another pool or LP.",{tokensymbol:t})}),Object(T.jsxs)(d.g,{mt:"24px",as:"a",external:!0,href:L.b,children:[c("Buy")," ",t]}),Object(T.jsx)(Ue,{href:"https://yieldwatch.net",external:!0,children:Object(T.jsxs)(d.g,{variant:"secondary",mt:"8px",width:"100%",children:[c("Locate Assets"),Object(T.jsx)(d.H,{color:"primary",ml:"4px"})]})}),Object(T.jsx)(d.g,{variant:"text",onClick:n,children:c("Close window")})]})},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(Be.b)(),c=Object(j.c)(),r=c.account,a=Object(Ee.e)(),s=Object(Ee.f)(e),i=Object(o.useCallback)(function(){var c=Object(De.a)(Te.a.mark((function c(o,i){return Te.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(Ae.i)(a,0,o,r);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,Object(Ae.e)(s,o,r);case 8:c.next=12;break;case 10:return c.next=12,Object(Ae.d)(s,o,i,r);case 12:n(Object(Pe.i)(e,r)),n(Object(Pe.g)(e,r));case 14:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}(),[r,n,t,a,s,e]);return{onStake:i}},Ve=[5,6,3,1,22,23,78],Ke=Object(y.e)(d.g)(J||(J=Object(k.a)(["\n  flex-grow: 1;\n"]))),Ne=function(e){var t=e.children,n=e.onClick;return Object(T.jsx)(Ke,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:n,children:t})},Ye=Object(y.e)(d.y)(Q||(Q=Object(k.a)(["\n  width: 100%;\n"]))),qe=function(e){var t=e.isBnbPool,n=e.pool,c=e.stakingMax,r=e.stakingTokenPrice,a=e.isRemovingStake,i=void 0!==a&&a,l=e.onDismiss,b=n.sousId,O=n.stakingToken,x=n.earningToken,p=Object(m.b)().t,h=Object(He.a)().theme,f=Re(b,t).onStake,g=function(e){var t=Object(Be.b)(),n=Object(j.c)().account,c=Object(Ee.e)(),r=Object(Ee.f)(e),a=Ve.includes(e);return{onUnstake:Object(o.useCallback)(function(){var s=Object(De.a)(Te.a.mark((function s(o,i){var l,b,u;return Te.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(0!==e){s.next=7;break}return s.next=3,Object(Ae.j)(c,0,o,n);case 3:l=s.sent,console.info(l),s.next=18;break;case 7:if(!a){s.next=14;break}return s.next=10,Object(Ae.c)(r,o,n);case 10:b=s.sent,console.info(b),s.next=18;break;case 14:return s.next=16,Object(Ae.f)(r,o,i,n);case 16:u=s.sent,console.info(u);case 18:t(Object(Pe.i)(e,n)),t(Object(Pe.g)(e,n)),t(Object(Pe.h)(e,n));case 21:case"end":return s.stop()}}),s)})));return function(e,t){return s.apply(this,arguments)}}(),[n,t,a,c,r,e])}}(b).onUnstake,k=Object(Le.a)(),y=k.toastSuccess,v=k.toastError,w=Object(o.useState)(!1),S=Object(s.a)(w,2),C=S[0],F=S[1],D=Object(o.useState)(""),I=Object(s.a)(D,2),B=I[0],P=I[1],A=Object(o.useState)(0),z=Object(s.a)(A,2),H=z[0],U=z[1],M=B&&Object(E.a)(new u.a(B).times(r).toNumber()),R=function(e){var t=c.dividedBy(100).multipliedBy(e),n=Object(E.d)(t,O.decimals,O.decimals);P(n),U(e)},V=function(){var e=Object(De.a)(Te.a.mark((function e(){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),!i){e.next=16;break}return e.prev=2,e.next=5,g(B,O.decimals);case 5:y("".concat(p("Unstaked"),"!"),p("Your ".concat(x.symbol," earnings have also been harvested to your wallet!"))),F(!1),l(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),v(p("Canceled"),p("Please try again and confirm the transaction.")),F(!1);case 14:e.next=28;break;case 16:return e.prev=16,e.next=19,f(B,O.decimals);case 19:y("".concat(p("Staked"),"!"),p("Your ".concat(O.symbol," funds have been staked in the pool!"))),F(!1),l(),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(16),v(p("Canceled"),p("Please try again and confirm the transaction.")),F(!1);case 28:case"end":return e.stop()}}),e,null,[[2,10],[16,24]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(d.E,{title:p(i?"Unstake":"Stake in Pool"),onDismiss:l,headerBackground:h.colors.gradients.cardHeader,children:[Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(T.jsxs)(d.O,{bold:!0,children:[p(i?"Unstake":"Stake"),":"]}),Object(T.jsxs)(d.t,{alignItems:"center",minWidth:"70px",children:[Object(T.jsx)(d.x,{src:"/images/tokens/".concat(O.symbol,".png"),width:24,height:24,alt:O.symbol}),Object(T.jsx)(d.O,{ml:"4px",bold:!0,children:O.symbol})]})]}),Object(T.jsx)(d.c,{value:B,onChange:function(e){var t=e.target.value||"0",n=Object(E.c)(new u.a(t),O.decimals),r=Math.floor(n.dividedBy(c).multipliedBy(100).toNumber());P(t),U(Math.min(r,100))},currencyValue:"~".concat(M||0," USD")}),Object(T.jsxs)(d.O,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:["Balance: ",Object(E.d)(c,O.decimals)]}),Object(T.jsx)(d.L,{min:0,max:100,value:H,onValueChanged:R,name:"stake",valueLabel:"".concat(H,"%"),step:1}),Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(T.jsx)(Ne,{onClick:function(){return R(25)},children:"25%"}),Object(T.jsx)(Ne,{onClick:function(){return R(50)},children:"50%"}),Object(T.jsx)(Ne,{onClick:function(){return R(75)},children:"75%"}),Object(T.jsx)(Ne,{onClick:function(){return R(100)},children:"MAX"})]}),Object(T.jsx)(d.g,{isLoading:C,endIcon:C?Object(T.jsx)(d.b,{spin:!0,color:"currentColor"}):null,onClick:V,disabled:!B||0===parseFloat(B),mt:"24px",children:p(C?"Confirming":"Confirm")}),!i&&Object(T.jsx)(Ye,{external:!0,href:L.b,children:Object(T.jsxs)(d.g,{width:"100%",mt:"8px",variant:"secondary",children:[p("Get")," ",O.symbol]})})]})},We=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.stakingTokenPrice,r=e.stakedBalance,a=e.isBnbPool,o=e.isStaked,i=e.isLoading,l=void 0!==i&&i,b=t.stakingToken,j=t.earningToken,O=t.stakingLimit,x=t.isFinished,p=Object(m.b)().t,h=Object(E.c)(new u.a(O),j.decimals),f=O&&n.isGreaterThan(h)?h:n,g=Object(E.a)(Object(E.b)(r,b.decimals),3,3),k=Object(E.a)(Object(E.b)(r.multipliedBy(c),b.decimals)),y=Object(d.Z)(Object(T.jsx)(Me,{tokenSymbol:b.symbol})),v=Object(s.a)(y,1)[0],w=Object(d.Z)(Object(T.jsx)(qe,{stakingMax:f,isBnbPool:a,pool:t,stakingTokenPrice:c})),S=Object(s.a)(w,1)[0],C=Object(d.Z)(Object(T.jsx)(qe,{stakingMax:r,isBnbPool:a,pool:t,stakingTokenPrice:c,isRemovingStake:!0})),F=Object(s.a)(C,1)[0];return Object(T.jsx)(d.t,{flexDirection:"column",children:l?Object(T.jsx)(d.K,{width:"100%",height:"52px"}):o?Object(T.jsxs)(d.t,{justifyContent:"space-between",alignItems:"center",children:[Object(T.jsxs)(d.t,{flexDirection:"column",children:[Object(T.jsx)(d.u,{children:g}),Object(T.jsx)(d.O,{fontSize:"12px",color:"textSubtle",children:"~".concat(k||0," USD")})]}),Object(T.jsxs)(d.t,{children:[Object(T.jsx)(d.w,{variant:"secondary",onClick:F,mr:"6px",children:Object(T.jsx)(d.D,{color:"primary",width:"24px"})}),Object(T.jsx)(d.w,{variant:"secondary",onClick:n.gt(0)?S:v,disabled:x,children:Object(T.jsx)(d.a,{color:"primary",width:"24px",height:"24px"})})]})]}):Object(T.jsx)(d.g,{disabled:x,onClick:n.gt(0)?S:v,children:p("Stake")})})},Ze=n(753),Ge=function(e){var t=e.formattedBalance,n=e.fullBalance,c=e.earningToken,r=e.earningsDollarValue,a=e.sousId,i=e.isBnbPool,l=e.isCompoundPool,b=void 0!==l&&l,u=e.onDismiss,j=Object(m.b)().t,O=Object(He.a)().theme,x=Object(Le.a)(),p=x.toastSuccess,h=x.toastError,f=Object(Ze.b)(a,i).onReward,g=Re(a,i).onStake,k=Object(o.useState)(!1),y=Object(s.a)(k,2),v=y[0],w=y[1],S=Object(o.useState)(b),C=Object(s.a)(S,2),F=C[0],D=C[1],I=Object(d.ab)(Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(d.O,{mb:"12px",children:j("Compound: collect and restake CAKE into pool.")}),Object(T.jsx)(d.O,{children:j("Harvest: collect CAKE and send to wallet")})]}),{placement:"bottom-end",tooltipOffset:[20,10]}),B=I.targetRef,P=I.tooltip,A=I.tooltipVisible,E=function(){var e=Object(De.a)(Te.a.mark((function e(){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),!F){e.next=16;break}return e.prev=2,e.next=5,g(n,c.decimals);case 5:p("".concat(j("Compounded"),"!"),j("Your ".concat(c.symbol," earnings have been re-invested into the pool!"))),w(!1),u(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),h(j("Canceled"),j("Please try again and confirm the transaction.")),w(!1);case 14:e.next=28;break;case 16:return e.prev=16,e.next=19,f();case 19:p("".concat(j("Harvested"),"!"),j("Your ".concat(c.symbol," earnings have been sent to your wallet!"))),w(!1),u(),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(16),h(j("Canceled"),j("Please try again and confirm the transaction.")),w(!1);case 28:case"end":return e.stop()}}),e,null,[[2,10],[16,24]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(d.E,{title:"".concat(c.symbol," ").concat(j("Harvest")),onDismiss:u,headerBackground:O.colors.gradients.cardHeader,children:[b&&Object(T.jsxs)(d.t,{justifyContent:"center",alignItems:"center",mb:"24px",children:[Object(T.jsxs)(d.h,{activeIndex:F?0:1,scale:"sm",variant:"subtle",onItemClick:function(e){return D(!e)},children:[Object(T.jsx)(d.i,{as:"button",children:j("Compound")}),Object(T.jsx)(d.i,{as:"button",children:j("Harvest")})]}),Object(T.jsx)(d.t,{ml:"10px",ref:B,children:Object(T.jsx)(d.v,{color:"textSubtle"})}),A&&P]}),Object(T.jsxs)(d.t,{justifyContent:"space-between",alignItems:"center",mb:"24px",children:[Object(T.jsxs)(d.O,{children:[j(F?"Compounding":"Harvesting"),":"]}),Object(T.jsxs)(d.t,{flexDirection:"column",children:[Object(T.jsxs)(d.u,{children:[t," ",c.symbol]}),Object(T.jsx)(d.O,{fontSize:"12px",color:"textSubtle",children:"~".concat(r||0," USD")})]})]}),Object(T.jsx)(d.g,{mt:"8px",onClick:E,isLoading:v,endIcon:v?Object(T.jsx)(d.b,{spin:!0,color:"currentColor"}):null,children:j(v?"Confirming":"Confirm")}),Object(T.jsx)(d.g,{variant:"text",onClick:u,pb:"0px",children:j("Close window")})]})},Je=function(e){var t=e.earnings,n=e.earningToken,c=e.sousId,r=e.isBnbPool,a=e.isLoading,o=void 0!==a&&a,i=Object(m.b)().t,l=Object(g.e)(n.address?Object(A.a)(n.address):""),b=Object(E.d)(t,n.decimals),u=Object(E.a)(Object(E.b)(t,n.decimals),3,3),j=Object(E.a)(Object(E.b)(t.multipliedBy(l),n.decimals)),O=t.toNumber()>0,x=0===c,p=Object(d.Z)(Object(T.jsx)(Ge,{formattedBalance:u,fullBalance:b,earningToken:n,earningsDollarValue:j,sousId:c,isBnbPool:r,isCompoundPool:x})),h=Object(s.a)(p,1)[0];return Object(T.jsx)(d.t,{flexDirection:"column",mb:"16px",children:Object(T.jsxs)(d.t,{justifyContent:"space-between",alignItems:"center",children:[Object(T.jsx)(d.t,{flexDirection:"column",children:o?Object(T.jsx)(d.K,{width:"80px",height:"48px"}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(d.u,{color:O?"text":"textDisabled",children:O?u:0}),Object(T.jsx)(d.O,{fontSize:"12px",color:O?"textSubtle":"textDisabled",children:"~".concat(O?j:0," USD")})]})}),Object(T.jsx)(d.t,{children:Object(T.jsx)(d.g,{disabled:!O,onClick:h,children:i(x?"Collect":"Harvest")})})]})})},Qe=Object(y.e)(d.O)(X||(X=Object(k.a)(["\n  display: inline;\n"]))),Xe=function(e){var t=e.pool,n=e.stakedBalance,c=e.accountHasStakedBalance,r=e.stakingTokenPrice,a=t.sousId,s=t.stakingToken,o=t.earningToken,i=t.harvest,l=t.poolCategory,b=t.userData,j=l===Ce.b.BINANCE,O=Object(m.b)().t,x=new u.a((null===b||void 0===b?void 0:b.allowance)||0),p=new u.a((null===b||void 0===b?void 0:b.stakingTokenBalance)||0),h=new u.a((null===b||void 0===b?void 0:b.pendingReward)||0),f=!c&&!x.gt(0)&&!j,g=n.gt(0),k=!b;return Object(T.jsx)(d.t,{flexDirection:"column",children:Object(T.jsxs)(d.t,{flexDirection:"column",children:[i&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(d.f,{display:"inline",children:[Object(T.jsx)(Qe,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:"".concat(o.symbol," ")}),Object(T.jsx)(Qe,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:O("earned")})]}),Object(T.jsx)(Je,{earnings:h,earningToken:o,sousId:a,isBnbPool:j,isLoading:k})]}),Object(T.jsxs)(d.f,{display:"inline",children:[Object(T.jsxs)(Qe,{color:g?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[g?s.symbol:O("stake")," "]}),Object(T.jsx)(Qe,{color:g?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:g?O("staked"):"".concat(s.symbol)})]}),f?Object(T.jsx)(ze,{pool:t,isLoading:k}):Object(T.jsx)(We,{isLoading:k,pool:t,stakingTokenBalance:p,stakingTokenPrice:r,stakedBalance:n,isBnbPool:j,isStaked:g})]})})},_e=function(e){var t=e.pool,n=e.account,c=t.sousId,r=t.stakingToken,a=t.earningToken,s=t.isFinished,o=t.userData,i=Object(m.b)().t,l=new u.a((null===o||void 0===o?void 0:o.stakedBalance)||0),b=(null===l||void 0===l?void 0:l.toNumber())>0,j=Object(g.e)(r.address?Object(A.a)(r.address):"");return Object(T.jsxs)(xe,{isStaking:!s&&b,isFinished:s&&0!==c,ribbon:s&&Object(T.jsx)(d.o,{variantColor:"textDisabled",text:"".concat(i("Finished"))}),children:[Object(T.jsx)(Se,{earningTokenSymbol:a.symbol,stakingTokenSymbol:r.symbol,isFinished:s&&0!==c}),Object(T.jsxs)(d.l,{children:[Object(T.jsx)(Oe,{pool:t,stakingTokenPrice:j}),Object(T.jsx)(d.t,{mt:"24px",flexDirection:"column",children:n?Object(T.jsx)(Xe,{pool:t,stakedBalance:l,stakingTokenPrice:j,accountHasStakedBalance:b}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(d.O,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:i("Start earning")}),Object(T.jsx)(P.a,{})]})})]}),Object(T.jsx)(ve,{pool:t,account:n})]})},$e=n(772),et=n(41),tt=function(e){var t=Object(j.c)().account,n=Object(Ee.b)(),c=Object(o.useState)({shares:et.b,cakeAtLastUserAction:et.b,lastDepositedTime:"",lastUserActionTime:""}),r=Object(s.a)(c,2),a=r[0],i=r[1];return Object(o.useEffect)((function(){t&&function(){var e=Object(De.a)(Te.a.mark((function e(){var c;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.userInfo(t).call();case 2:c=e.sent,i({shares:new u.a(c.shares),cakeAtLastUserAction:new u.a(c.cakeAtLastUserAction),lastDepositedTime:c.lastDepositedTime,lastUserActionTime:c.lastUserActionTime});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,n,e]),a},nt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,r=Object(E.b)(t,n),a=new u.a(e.multipliedBy(r)),s=Object(E.b)(a,n),o=Object(E.c)(new u.a(s),n),i=Object(E.d)(a,n,c);return{cakeAsNumberBalance:s,cakeAsBigNumber:o,cakeAsDisplayBalance:i}},ct=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,r=Object(E.b)(t,n),a=new u.a(e.dividedBy(r)),s=Object(E.b)(a,n),o=Object(E.c)(new u.a(s),n),i=Object(E.d)(a,n,c);return{sharesAsNumberBalance:s,sharesAsBigNumber:o,sharesAsDisplayBalance:i}},rt=n(102),at=function(e){var t=Object(Ee.b)(),n=Object(o.useState)(null),c=Object(s.a)(n,2),r=c[0],a=c[1],i=Object(o.useState)(null),l=Object(s.a)(i,2),b=l[0],j=l[1],d=Object(o.useState)(null),O=Object(s.a)(d,2),x=O[0],p=O[1];return Object(o.useEffect)((function(){(function(){var e=Object(De.a)(Te.a.mark((function e(){var n,c,r,o,i,l,b;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.a)([t.methods.getPricePerFullShare().call,t.methods.totalShares().call]);case 2:n=e.sent,c=Object(s.a)(n,2),r=c[0],o=c[1],i=new u.a(r),l=new u.a(o),b=nt(l,i),p(i),a(l),j(b.cakeAsBigNumber);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,e]),{totalShares:r,totalCakeInVault:b,pricePerFullShare:x}},st=function(){var e=Object(Ee.b)(),t=Object(o.useState)({performanceFee:null,callFee:null,withdrawalFee:null,withdrawalFeePeriod:null}),n=Object(s.a)(t,2),c=n[0],r=n[1];return Object(o.useEffect)((function(){(function(){var t=Object(De.a)(Te.a.mark((function t(){var n,c,a,o,i,l;return Te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(rt.a)([e.methods.performanceFee().call,e.methods.withdrawFeePeriod().call,e.methods.callFee().call,e.methods.withdrawFee().call]);case 2:n=t.sent,c=Object(s.a)(n,4),a=c[0],o=c[1],i=c[2],l=c[3],r({performanceFee:a,callFee:i,withdrawalFee:l,withdrawalFeePeriod:o});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),c},ot=function(e){var t=e.pool,n=e.stakingTokenPrice,c=(e.isAutoVault,e.compoundFrequency),r=void 0===c?1:c,a=e.performanceFee,o=void 0===a?0:a,i=Object(m.b)().t,l=t.stakingToken,b=t.earningToken,u=t.totalStaked,j=t.isFinished,O=t.tokenPerBlock,x=Object(d.ab)(i("NFT Mint Rate, is the number of NFT's created for this Grave every block."),{placement:"bottom-end"}),p=x.targetRef,h=x.tooltip,f=x.tooltipVisible,k=Object(g.e)(b.address?Object(A.a)(b.address):""),y=z(n,k,Object(E.b)(u,l.decimals),parseFloat(O)),v=Math.round(k/1e3)>0,w=l.address&&"".concat(L.b,"/#/swap?outputCurrency=").concat(l.address[56]),S=Object(d.Z)(Object(T.jsx)(de,{tokenPrice:k,apr:y,linkLabel:"".concat(i("Get")," ").concat(l.symbol),linkHref:w||L.b,earningTokenSymbol:b.symbol,roundingDecimals:v?4:2,compoundFrequency:r,performanceFee:o})),C=Object(s.a)(S,1)[0];return Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",children:[f&&h,Object(T.jsxs)(d.S,{ref:p,children:[i("NFT Mint Rate"),":"]}),j||!y?Object(T.jsx)(d.K,{width:"82px",height:"32px"}):Object(T.jsxs)(d.t,{alignItems:"center",children:["N/A",Object(T.jsx)(d.w,{onClick:C,variant:"text",scale:"sm",children:Object(T.jsx)(d.j,{color:"textSubtle",width:"18px"})})]})]})},it=function(e){var t=e.pool,n=Object(m.b)().t,c=(t.stakingToken,t.earningToken,t.totalStaked,t.isFinished,t.tokenPerBlock,Object(d.ab)(n("Minimum time you are required to stake before receiving rewards. Unstaking your tokens may reset or increase your remaining time."),{placement:"bottom-end"})),r=c.targetRef,a=c.tooltip,s=c.tooltipVisible;return Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",children:[s&&a,Object(T.jsxs)(d.S,{ref:r,children:[n("Minimum Deposit Time"),":"]}),Object(T.jsxs)(d.t,{alignItems:"center",children:["N/A",Object(T.jsx)(d.w,{variant:"text",scale:"sm",children:Object(T.jsx)(d.P,{color:"textSubtle",width:"18px"})})]})]})},lt=Object(y.e)(d.k)(_||(_=Object(k.a)(["\n  max-width: 352px;\n  margin: 0 8px 24px;\n  background: ",";\n  border-radius: 32px;\n  display: flex;\n  color: ",";\n  box-shadow: ",";\n  flex-direction: column;\n  align-self: baseline;\n  position: relative;\n\n  "," {\n    margin: 0 12px 46px;\n  }\n"])),(function(e){return e.theme.card.background}),(function(e){var t=e.isFinished;return e.theme.colors[t?"textDisabled":"secondary"]}),(function(e){return e.isStaking?"0px 0px 0px 2px #53DEE9;":"0px 2px 12px -8px rgba(25, 19, 38, 0.1), 0px 1px 1px rgba(25, 19, 38, 0.05)"}),(function(e){return e.theme.mediaQueries.sm})),bt=Object(y.e)(d.t)($||($=Object(k.a)(["\n  svg {\n    height: 14px;\n    width: 14px;\n  }\n"]))),ut=function(e){var t,n=e.pool,c=e.account,r=e.performanceFee,a=void 0===r?0:r,s=e.isAutoVault,o=void 0!==s&&s,i=e.totalCakeInVault,l=Object(m.b)().t,b=Object(g.a)().currentBlock,u=n.stakingToken,j=n.earningToken,O=n.totalStaked,x=n.startBlock,p=n.endBlock,h=n.isFinished,f=n.contractAddress,k=j.address?Object(A.a)(j.address):"",y=Object(A.a)(f),v=Object(A.e)(),w="".concat(L.c,"/images/tokens/").concat(j.symbol.toLowerCase(),".png"),S=!!(null===(t=window.ethereum)||void 0===t?void 0:t.isMetaMask),C=Boolean(!h&&x&&p),F=Math.max(x-b,0),D=Math.max(p-b,0),I=0===F&&D>0,B=Object(d.ab)(l("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-end"}),P=B.targetRef,z=B.tooltip,H=B.tooltipVisible;return Object(T.jsxs)(bt,{flexDirection:"column",children:[Object(T.jsxs)(d.t,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(T.jsx)(d.O,{small:!0,children:l("Total staked:")}),Object(T.jsx)(d.t,{alignItems:"flex-start",children:O?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(be,{fontSize:"14px",value:o?Object(E.b)(i,u.decimals):Object(E.b)(O,u.decimals)}),Object(T.jsx)(d.O,{ml:"4px",fontSize:"14px",children:u.symbol})]}):Object(T.jsx)(d.K,{width:"90px",height:"21px"})})]}),C&&Object(T.jsxs)(d.t,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[Object(T.jsxs)(d.O,{small:!0,children:[l(I?"End":"Start"),":"]}),Object(T.jsxs)(d.t,{alignItems:"center",children:[D||F?Object(T.jsx)(be,{color:"primary",fontSize:"14px",value:I?D:F,decimals:0}):Object(T.jsx)(d.K,{width:"54px",height:"21px"}),Object(T.jsx)(d.O,{ml:"4px",color:"primary",small:!0,children:l("blocks")}),Object(T.jsx)(d.P,{ml:"4px",color:"primary"})]})]}),o&&Object(T.jsxs)(d.t,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[H&&z,Object(T.jsx)(d.S,{ref:P,small:!0,children:l("Performance Fee")}),Object(T.jsx)(d.t,{alignItems:"center",children:Object(T.jsxs)(d.O,{ml:"4px",small:!0,children:[a/100,"%"]})})]}),Object(T.jsx)(d.t,{mb:"2px",justifyContent:"flex-end",children:Object(T.jsx)(d.z,{bold:!1,small:!0,href:j.projectLink,children:l("View Project Site")})}),y&&Object(T.jsx)(d.t,{mb:"2px",justifyContent:"flex-end",children:Object(T.jsx)(d.z,{bold:!1,small:!0,href:"".concat(L.a,"/address/").concat(o?v:y),children:l("View Contract")})}),c&&S&&k&&Object(T.jsxs)(d.t,{justifyContent:"flex-end",children:[Object(T.jsx)(d.O,{color:"primary",small:!0,onClick:function(){return Object(me.a)(k,j.symbol,j.decimals,w)},children:"Add to Metamask"}),Object(T.jsx)(d.C,{ml:"4px"})]})]})},jt=i.a.memo(ut),dt=Object(y.e)(d.t)(ee||(ee=Object(k.a)(["\n  align-items: center;\n  justify-content: space-between;\n  button {\n    padding: 0;\n  }\n"]))),Ot=function(e){var t=e.pool,n=e.account,c=e.performanceFee,r=void 0===c?0:c,a=e.isAutoVault,i=void 0!==a&&a,l=e.totalCakeInVault,b=Object(m.b)().t,u=Object(o.useState)(!1),j=Object(s.a)(u,2),O=j[0],x=j[1],p=b("You must harvest and compound your earnings from this pool manually."),h=b("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),f=Object(d.ab)(i?h:p,{placement:"bottom-end"}),g=f.targetRef,k=f.tooltip,y=f.tooltipVisible;return Object(T.jsxs)(d.m,{children:[Object(T.jsxs)(dt,{children:[Object(T.jsxs)(d.t,{alignItems:"center",children:[i?Object(T.jsx)(he,{}):Object(T.jsx)(pe,{}),y&&k,Object(T.jsx)(d.f,{ref:g,children:Object(T.jsx)(d.v,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),Object(T.jsx)(d.r,{expanded:O,onClick:function(){return x(!O)},children:b(O?"Hide":"Details")})]}),O&&Object(T.jsx)(jt,{pool:t,account:n,performanceFee:r,isAutoVault:i,totalCakeInVault:l})]})},xt=Object(y.e)(d.n)(te||(te=Object(k.a)(["\n  background: ",";\n"])),(function(e){var t=e.isFinished,n=(e.background,e.theme);return t?"#101820":n.colors.primary})),pt=function(e){var t=e.earningTokenSymbol,n=e.stakingTokenSymbol,c=e.isFinished,r=void 0!==c&&c,a=e.isAutoVault,s=void 0!==a&&a,o=Object(m.b)().t,i="".concat(n,".png").toLowerCase(),l="CAKE"===t&&"CAKE"===n;return Object(T.jsx)(xt,{isFinished:r,color:"#101820",children:Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",children:[Object(T.jsxs)(d.t,{flexDirection:"column",children:[Object(T.jsx)(d.u,{color:r?"textDisabled":"body",size:"lg",children:"Earn ".concat(t," NFT")}),Object(T.jsx)(d.O,{color:r?"textDisabled":"textSubtle",children:s?"".concat(o("Automatic restaking")):l?"".concat(o("Earn CAKE, stake CAKE")):"".concat(o("Stake")," ").concat(n," (example rug)")})]}),Object(T.jsx)(d.x,{src:"/images/pools/".concat(i),alt:t,width:64,height:64})]})})},ht=function(e){var t=e.pool,n=e.account,c=e.isLoading,r=void 0!==c&&c,a=e.setLastUpdated,i=t.stakingToken,l=Object(Ee.b)(),b=Object(Ee.a)(),u=Object(m.b)().t,j=Object(o.useState)(!1),O=Object(s.a)(j,2),x=O[0],p=O[1],h=Object(Le.a)(),f=h.toastSuccess,g=h.toastError;return Object(T.jsx)(T.Fragment,{children:r?Object(T.jsx)(d.K,{width:"100%",height:"52px"}):Object(T.jsx)(d.g,{isLoading:x,endIcon:x?Object(T.jsx)(d.b,{spin:!0,color:"currentColor"}):null,disabled:x,onClick:function(){b.methods.approve(l.options.address,Ie.a.constants.MaxUint256).send({from:n}).on("sending",(function(){p(!0)})).on("receipt",(function(){f("".concat(u("Contract Enabled")),"".concat(u("You can now stake in the %symbol %vault!",{symbol:i.symbol}))),a(),p(!1)})).on("error",(function(e){console.error(e),g("".concat(u("Error")),"".concat(u("Please try again. Confirm the transaction and make sure you are paying enough gas!"))),p(!1)}))},width:"100%",children:u("Enable")})})},mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:259200,n=Object(o.useState)(null),c=Object(s.a)(n,2),r=c[0],a=c[1],i=Object(o.useState)(!1),l=Object(s.a)(i,2),b=l[0],u=l[1];return Object(o.useEffect)((function(){var n=e+t-Math.floor(Date.now()/1e3);n>0&&(a(n),u(!0))}),[e,t,a]),{hasUnstakingFee:b,secondsRemaining:r}},ft=3600,gt=86400,kt=2629800,yt=31557600,vt=function(e){var t=Math.abs(e),n={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return t>=yt&&(n.years=Math.floor(t/yt),t-=n.years*yt),t>=kt&&(n.months=Math.floor(t/kt),t-=n.months*kt),t>=gt&&(n.days=Math.floor(t/gt),t-=n.days*gt),t>=ft&&(n.hours=Math.floor(t/ft),t-=n.hours*ft),t>=60&&(n.minutes=Math.floor(t/60),t-=60*n.minutes),n.seconds=t,n},wt=function(e){var t=e.secondsRemaining,n=vt(t),c=n.days,r=n.hours,a=n.minutes;return Object(T.jsxs)(d.O,{fontSize:"14px",children:[c&&c,"d : ",r&&r,"h : ",a&&a,"m"]})},St=function(e){var t=e.account,n=void 0===t||t,c=e.withdrawalFee,r=e.lastDepositedTime,a=e.withdrawalFeePeriod,s=void 0===a?"259200":a,o=Object(m.b)().t,i=parseInt(c)/100||"-",l=Object(d.ab)(Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(d.O,{bold:!0,mb:"4px",children:o("Unstaking fee: %fee%%",{fee:i})}),Object(T.jsx)(d.O,{children:o("Only applies within 3 days of staking. Unstaking after 3 days will not include a fee. Timer resets every time you stake new CAKE in the pool.")})]}),{placement:"bottom-start"}),b=l.targetRef,u=l.tooltip,j=l.tooltipVisible,O=mt(parseInt(r,10),parseInt(s,10)),x=O.secondsRemaining,p=O.hasUnstakingFee,h=n&&r&&p;return Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",children:[j&&u,Object(T.jsxs)(d.S,{ref:b,small:!0,children:[parseInt(c)/100||"-","%"," ",o(h?"unstaking fee until":"unstaking fee if withdrawn within 72h")]}),h&&Object(T.jsx)(wt,{secondsRemaining:x})]})},Ct=function(e){var t=e.stakingTokenSymbol,n=e.lastDepositedTime,c=e.vaultFees,r=e.stakeAmount,a=Object(m.b)().t,s=parseInt(c.withdrawalFee)/100,o=(parseFloat(r)*(s/100)).toFixed(4),i=Object(d.ab)(Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(d.O,{bold:!0,mb:"4px",children:a("Unstaking fee: %fee%%",{fee:s})}),Object(T.jsx)(d.O,{children:a("Only applies within 3 days of staking. Unstaking after 3 days will not include a fee. Timer resets every time you stake new CAKE in the pool.")})]}),{placement:"top-start"}),l=i.targetRef,b=i.tooltip,u=i.tooltipVisible;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(d.t,{mt:"24px",alignItems:"center",justifyContent:"space-between",children:[u&&b,Object(T.jsx)(d.S,{ref:l,small:!0,children:a("Unstaking Fee")}),Object(T.jsxs)(d.O,{fontSize:"14px",children:[r?o:"-"," ",t]})]}),Object(T.jsx)(St,{withdrawalFee:c.withdrawalFee,withdrawalFeePeriod:c.withdrawalFeePeriod,lastDepositedTime:n})]})},Ft=Object(y.e)(d.g)(ne||(ne=Object(k.a)(["\n  flex-grow: 1;\n"]))),Tt=function(e){var t=e.pool,n=e.stakingMax,c=e.stakingTokenPrice,r=e.pricePerFullShare,a=e.account,i=e.userInfo,l=e.isRemovingStake,b=void 0!==l&&l,j=e.vaultFees,O=e.onDismiss,x=e.setLastUpdated,p=t.stakingToken,h=Object(Ee.b)(),f=Object(m.b)().t,g=Object(He.a)().theme,k=Object(Le.a)(),y=k.toastSuccess,v=k.toastError,w=Object(o.useState)(!1),S=Object(s.a)(w,2),C=S[0],F=S[1],D=Object(o.useState)(""),I=Object(s.a)(D,2),B=I[0],P=I[1],A=Object(o.useState)(0),z=Object(s.a)(A,2),H=z[0],U=z[1],M=mt(parseInt(i.lastDepositedTime)).hasUnstakingFee,R=B&&Object(E.a)(new u.a(B).times(c).toNumber()),V=function(e){var t=n.dividedBy(100).multipliedBy(e),c=Object(E.d)(t,p.decimals,p.decimals);P(c),U(e)},K=function(){var e=Object(De.a)(Te.a.mark((function e(t){var n,c,s;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(!0),n=ct(t,r),c=new u.a(2e5),s=i.shares.minus(n.sharesAsBigNumber),s.lte(c)?h.methods.withdrawAll().send({from:a}).on("sending",(function(){F(!0)})).on("receipt",(function(){y(f("Unstaked!"),f("Your earnings have also been harvested to your wallet")),F(!1),O(),x()})).on("error",(function(e){console.error(e),v(f("Error"),f("".concat(e.message," - Please try again."))),F(!1)})):h.methods.withdraw(n.sharesAsBigNumber.toString()).send({from:a}).on("sending",(function(){F(!0)})).on("receipt",(function(){y(f("Unstaked!"),f("Your earnings have also been harvested to your wallet")),F(!1),O(),x()})).on("error",(function(e){console.error(e),v(f("Error"),f("".concat(e.message," - Please try again."))),F(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(De.a)(Te.a.mark((function e(t){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.methods.deposit(t.toString()).send({from:a}).on("sending",(function(){F(!0)})).on("receipt",(function(){y(f("Staked!"),f("Your funds have been staked in the pool")),F(!1),O(),x()})).on("error",(function(e){console.error(e),v(f("Error"),f("".concat(e.message," - Please try again."))),F(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(De.a)(Te.a.mark((function e(){var t;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(E.c)(new u.a(B),p.decimals),F(!0),b?K(t):N(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(d.E,{title:f(b?"Unstake":"Stake in Pool"),onDismiss:O,headerBackground:g.colors.gradients.cardHeader,children:[Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",mb:"8px",children:[Object(T.jsxs)(d.O,{bold:!0,children:[f(b?"Unstake":"Stake"),":"]}),Object(T.jsxs)(d.t,{alignItems:"center",minWidth:"70px",children:[Object(T.jsx)(d.x,{src:"/images/tokens/".concat(p.symbol,".png"),width:24,height:24,alt:p.symbol}),Object(T.jsx)(d.O,{ml:"4px",bold:!0,children:p.symbol})]})]}),Object(T.jsx)(d.c,{value:B,onChange:function(e){var t=e.target.value||"0",c=new u.a(t).multipliedBy(new u.a(10).pow(p.decimals)),r=Math.floor(c.dividedBy(n).multipliedBy(100).toNumber());P(t),U(r>100?100:r)},currencyValue:"~".concat(R||0," USD")}),Object(T.jsxs)(d.O,{mt:"8px",ml:"auto",color:"textSubtle",fontSize:"12px",mb:"8px",children:["Balance: ",Object(E.d)(n,p.decimals)]}),Object(T.jsx)(d.L,{min:0,max:100,value:H,onValueChanged:V,name:"stake",valueLabel:"".concat(H,"%"),step:1}),Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",mt:"8px",children:[Object(T.jsx)(Ft,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return V(25)},children:"25%"}),Object(T.jsx)(Ft,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return V(50)},children:"50%"}),Object(T.jsx)(Ft,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return V(75)},children:"75%"}),Object(T.jsx)(Ft,{scale:"xs",mx:"2px",p:"4px 16px",variant:"tertiary",onClick:function(){return V(100)},children:"MAX"})]}),b&&M&&Object(T.jsx)(Ct,{stakingTokenSymbol:p.symbol,lastDepositedTime:i.lastDepositedTime,vaultFees:j,stakeAmount:B}),Object(T.jsx)(d.g,{isLoading:C,endIcon:C?Object(T.jsx)(d.b,{spin:!0,color:"currentColor"}):null,onClick:Y,disabled:!B||0===parseFloat(B),mt:"24px",children:f(C?"Confirming":"Confirm")}),!b&&Object(T.jsxs)(d.g,{mt:"8px",as:"a",external:!0,href:L.b,variant:"secondary",children:[f("Get")," ",p.symbol]})]})},Dt=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.stakingTokenPrice,r=e.userInfo,a=e.pricePerFullShare,o=e.account,i=e.vaultFees,l=e.setLastUpdated,b=t.stakingToken,u=nt(r.shares,a),j=u.cakeAsBigNumber,O=u.cakeAsDisplayBalance,x=Object(E.a)(Object(E.b)(j.multipliedBy(c),b.decimals)),p=Object(d.Z)(Object(T.jsx)(Me,{tokenSymbol:b.symbol})),h=Object(s.a)(p,1)[0],m=Object(d.Z)(Object(T.jsx)(Tt,{account:o,stakingMax:n,pool:t,userInfo:r,stakingTokenPrice:c,setLastUpdated:l})),f=Object(s.a)(m,1)[0],g=Object(d.Z)(Object(T.jsx)(Tt,{account:o,stakingMax:j,pool:t,stakingTokenPrice:c,pricePerFullShare:a,userInfo:r,vaultFees:i,setLastUpdated:l,isRemovingStake:!0})),k=Object(s.a)(g,1)[0];return Object(T.jsxs)(d.t,{justifyContent:"space-between",alignItems:"center",children:[Object(T.jsxs)(d.t,{flexDirection:"column",children:[Object(T.jsx)(d.u,{children:O}),Object(T.jsx)(d.O,{fontSize:"12px",color:"textSubtle",children:"~".concat(c?x:Object(T.jsx)(d.K,{mt:"1px",height:16,width:64})," USD")})]}),Object(T.jsxs)(d.t,{children:[Object(T.jsx)(d.w,{variant:"secondary",onClick:k,mr:"6px",children:Object(T.jsx)(d.D,{color:"primary",width:"24px"})}),Object(T.jsx)(d.w,{variant:"secondary",onClick:n.gt(0)?f:h,children:Object(T.jsx)(d.a,{color:"primary",width:"24px",height:"24px"})})]})]})},It=function(e){var t=e.pool,n=e.stakingTokenBalance,c=e.stakingTokenPrice,r=e.userInfo,a=e.accountHasSharesStaked,o=e.pricePerFullShare,i=e.isLoading,l=void 0!==i&&i,b=e.account,u=e.vaultFees,j=e.setLastUpdated,O=t.stakingToken,x=Object(m.b)().t,p=Object(d.Z)(Object(T.jsx)(Me,{tokenSymbol:O.symbol})),h=Object(s.a)(p,1)[0],f=Object(d.Z)(Object(T.jsx)(Tt,{account:b,stakingMax:n,stakingTokenPrice:c,userInfo:r,pool:t,setLastUpdated:j})),g=Object(s.a)(f,1)[0];return Object(T.jsx)(d.t,{flexDirection:"column",children:l?Object(T.jsx)(d.K,{width:"100%",height:"52px"}):a?Object(T.jsx)(Dt,{pool:t,stakingTokenBalance:n,stakingTokenPrice:c,userInfo:r,pricePerFullShare:o,account:b,setLastUpdated:j,vaultFees:u}):Object(T.jsx)(d.g,{onClick:n.gt(0)?g:h,children:x("Stake")})})},Bt=Object(y.e)(d.O)(ce||(ce=Object(k.a)(["\n  display: inline;\n"]))),Pt=function(e){var t=e.pool,n=e.userInfo,c=e.pricePerFullShare,r=e.stakingTokenPrice,a=e.accountHasSharesStaked,i=e.account,l=e.lastUpdated,b=e.vaultFees,j=e.isLoading,O=e.setLastUpdated,x=t.stakingToken,p=t.userData,h=Object(o.useState)(!1),f=Object(s.a)(h,2),g=f[0],k=f[1],y=Object(Ee.a)(),v=Object(Ee.b)(),w=Object(m.b)().t,S=new u.a((null===p||void 0===p?void 0:p.stakingTokenBalance)||0);return Object(o.useEffect)((function(){(function(){var e=Object(De.a)(Te.a.mark((function e(){var t,n;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.methods.allowance(i,v.options.address).call();case 3:t=e.sent,n=new u.a(t),k(n.gt(0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[i,y,v,l]),Object(T.jsx)(d.t,{flexDirection:"column",children:Object(T.jsxs)(d.t,{flexDirection:"column",children:[Object(T.jsxs)(d.f,{display:"inline",children:[Object(T.jsxs)(Bt,{color:a?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[a?x.symbol:w("stake")," "]}),Object(T.jsx)(Bt,{color:a?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:a?w("staked (compounding)"):"".concat(x.symbol)})]}),g?Object(T.jsx)(It,{isLoading:j,pool:t,stakingTokenBalance:S,stakingTokenPrice:r,vaultFees:b,userInfo:n,pricePerFullShare:c,accountHasSharesStaked:a,account:i,setLastUpdated:O}):Object(T.jsx)(ht,{pool:t,account:i,isLoading:j,setLastUpdated:O})]})})},At=Object(y.e)(d.l)(re||(re=Object(k.a)(["\n  min-height: ",";\n"])),(function(e){return e.isLoading?"0":"254px"})),Et=function(e){var t=e.pool,n=e.account,c=Object(m.b)().t,r=Object($e.a)(),a=r.lastUpdated,s=r.setLastUpdated,o=tt(a),i=st(),l=at(),b=l.totalCakeInVault,u=l.pricePerFullShare,j=t.stakingToken,O=o.shares&&o.shares.gt(0),x=Object(g.e)(j.address?Object(A.a)(j.address):""),p=!t.userData||!o.shares,h=i.performanceFee&&parseInt(i.performanceFee,10)/100;return Object(T.jsxs)(lt,{isStaking:O,style:{maxWidth:"400px"},children:[Object(T.jsx)(pt,{earningTokenSymbol:"UndeadMoon",stakingTokenSymbol:"TheMoon"}),Object(T.jsxs)(At,{isLoading:p,children:[Object(T.jsx)(ot,{pool:t,stakingTokenPrice:x,compoundFrequency:288,performanceFee:h}),Object(T.jsx)(it,{pool:t,stakingTokenPrice:x}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(d.t,{justifyContent:"center",children:" Maybe Image of NFT here? "}),Object(T.jsx)(d.t,{justifyContent:"center",children:" . "}),Object(T.jsx)(d.t,{justifyContent:"center",children:" . "}),Object(T.jsx)(d.t,{justifyContent:"center",children:" . "}),Object(T.jsx)(d.t,{justifyContent:"center",children:" . "}),Object(T.jsx)(d.t,{justifyContent:"center",children:" . "}),Object(T.jsx)(d.t,{justifyContent:"center",children:" . "}),Object(T.jsx)(d.t,{justifyContent:"center",children:" . "}),Object(T.jsx)(d.t,{mt:"24px",flexDirection:"column",children:n?Object(T.jsx)(Pt,{pool:t,userInfo:o,pricePerFullShare:u,vaultFees:i,stakingTokenPrice:x,accountHasSharesStaked:O,account:n,lastUpdated:a,setLastUpdated:s,isLoading:p}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(d.O,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:c("Start earning")}),Object(T.jsx)(P.a,{})]})})]}),Object(T.jsx)(Ot,{pool:t,account:n,performanceFee:i.performanceFee,totalCakeInVault:b})]})},Lt=n(119),zt=Object(y.e)(d.O)(ae||(ae=Object(k.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(function(e){return e.theme.mediaQueries.lg})),Ht=Object(y.e)(d.y)(se||(se=Object(k.a)(["\n  width: 100%;\n"]))),Ut=function(e){var t=e.stakedOnly,n=e.setStakedOnly,c=e.hasStakeInFinishedPools,r=Object(l.h)(),a=r.url,s=r.isExact,o=Object(m.b)().t;return Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"center",mb:"32px",children:[Object(T.jsxs)(d.t,{alignItems:"center",flexDirection:["column",null,"row",null],children:[Object(T.jsxs)(d.h,{activeIndex:s?0:1,scale:"sm",children:[Object(T.jsx)(d.i,{as:Lt.a,to:"".concat(a),children:Object(T.jsx)(zt,{color:"secondary",bold:!0,fontSize:"16px",children:o("Live")})}),Object(T.jsx)(d.G,{show:c,children:Object(T.jsx)(d.i,{as:Lt.a,to:"".concat(a,"/history"),children:Object(T.jsx)(zt,{color:"secondary",bold:!0,fontSize:"16px",children:o("Finished")})})})]}),Object(T.jsxs)(d.t,{mt:["4px",null,0,null],ml:[0,null,"24px",null],justifyContent:"center",alignItems:"center",children:[Object(T.jsx)(d.R,{scale:"sm",checked:t,onChange:function(){return n((function(e){return!e}))}}),Object(T.jsx)(d.O,{ml:"8px",children:o("Staked only")})]})]}),Object(T.jsx)(d.t,{ml:"24px",alignItems:"center",justifyContent:"flex-end",children:Object(T.jsx)(Ht,{external:!0,href:"https://docs.rugzombie.io/graves/grave",children:Object(T.jsxs)(d.g,{px:["14px",null,null,null,"20px"],children:[Object(T.jsx)(zt,{color:"secondary",bold:!0,fontSize:"16px",children:o("Help")}),Object(T.jsx)(d.v,{color:"secondary",ml:[null,null,null,0,"6px"]})]})})})]})},Mt=n(132),Rt=function(e){var t=Object(Ee.b)(),n=Object(o.useState)(null),c=Object(s.a)(n,2),r=c[0],a=c[1],i=Object(o.useState)(null),l=Object(s.a)(i,2),b=l[0],j=l[1],d=Object(o.useState)(null),O=Object(s.a)(d,2),x=O[0],p=O[1],h=Object(o.useState)(null),m=Object(s.a)(h,2),f=m[0],k=m[1],y=Object(g.e)(Object(A.d)());return Object(o.useEffect)((function(){(function(){var e=Object(De.a)(Te.a.mark((function e(){var n,c,r,o;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.a)([t.methods.calculateHarvestCakeRewards().call,t.methods.calculateTotalPendingCakeRewards().call]);case 2:n=e.sent,c=Object(s.a)(n,2),r=c[0],o=c[1],a(new u.a(r)),j(new u.a(o));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,e]),Object(o.useEffect)((function(){if(r&&y){var e=r.multipliedBy(y),t=Object(E.d)(e,18,2),n=Object(E.d)(r,18,3);p(t),k(n)}}),[y,r]),{estimatedCallBountyReward:r,dollarCallBountyToDisplay:x,cakeCallBountyToDisplay:f,totalPendingCakeRewards:b}},Vt=y.e.div(oe||(oe=Object(k.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 16px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.backgroundDisabled})),Kt=function(e){var t=e.cakeCallBountyToDisplay,n=e.dollarCallBountyToDisplay,c=e.totalPendingCakeRewards,r=e.callFee,a=e.onDismiss,i=e.TooltipComponent,l=Object(m.b)().t,b=Object(j.c)().account,u=Object(He.a)().theme,O=Object(Le.a)(),x=O.toastError,p=O.toastSuccess,h=Object(Ee.b)(),f=Object(o.useState)(!1),g=Object(s.a)(f,2),k=g[0],y=g[1],v=r/100,w=Object(E.d)(c,18,3),S=Object(d.ab)(Object(T.jsx)(i,{}),{placement:"bottom",tooltipPadding:{right:15}}),C=S.targetRef,F=S.tooltip,D=S.tooltipVisible,I=function(){var e=Object(De.a)(Te.a.mark((function e(){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.methods.harvest().send({from:b}).on("sending",(function(){y(!0)})).on("receipt",(function(){p(l("Bounty collected!"),l("CAKE bounty has been sent to your wallet.")),y(!1),a()})).on("error",(function(e){console.error(e),x(l("Could not be collected"),l("There may be an issue with your transaction, or another user claimed the bounty first.")),y(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)(d.E,{title:l("Claim Bounty"),onDismiss:a,headerBackground:u.colors.gradients.cardHeader,children:[D&&F,Object(T.jsxs)(d.t,{alignItems:"flex-start",justifyContent:"space-between",children:[Object(T.jsx)(d.O,{children:l("You'll claim")}),Object(T.jsxs)(d.t,{flexDirection:"column",children:[Object(T.jsxs)(d.O,{bold:!0,children:[t," CAKE"]}),Object(T.jsxs)(d.O,{fontSize:"12px",color:"textSubtle",children:["~ ",n," USD"]})]})]}),Object(T.jsx)(Vt,{}),Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",children:[Object(T.jsx)(d.O,{fontSize:"14px",color:"textSubtle",children:l("Pool total pending yield")}),Object(T.jsxs)(d.O,{fontSize:"14px",color:"textSubtle",children:[w," CAKE"]})]}),Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",mb:"24px",children:[Object(T.jsx)(d.O,{fontSize:"14px",color:"textSubtle",children:l("Bounty")}),Object(T.jsxs)(d.O,{fontSize:"14px",color:"textSubtle",children:[v,"%"]})]}),Object(T.jsx)(d.g,{isLoading:k,endIcon:k?Object(T.jsx)(d.b,{spin:!0,color:"currentColor"}):null,onClick:I,mb:"28px",children:l("Confirm")}),Object(T.jsxs)(d.t,{justifyContent:"center",alignItems:"center",children:[Object(T.jsx)(d.O,{fontSize:"16px",bold:!0,color:"textSubtle",mr:"4px",children:l("What's this?")}),Object(T.jsx)("span",{ref:C,children:Object(T.jsx)(d.v,{color:"textSubtle"})})]})]})},Nt=Object(y.e)(d.k)(ie||(ie=Object(k.a)(["\n  width: 100%;\n  "," {\n    min-width: 240px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Yt=Object(y.e)(d.O)(le||(le=Object(k.a)(["\n  display: inline;\n"]))),qt=function(){var e=Object(m.b)().t,t=Object(Mt.a)().fastRefresh,n=Rt(t),c=n.dollarCallBountyToDisplay,r=n.cakeCallBountyToDisplay,a=n.totalPendingCakeRewards,o=function(){return Object(T.jsxs)(d.f,{children:[Object(T.jsx)(d.f,{mb:"16px",children:"".concat(e("This bounty is given as a reward for providing a service to other users."))}),Object(T.jsx)(d.f,{mb:"16px",children:e("Whenever you successfully claim the bounty, you\u2019re also helping out by activating the Auto CAKE Pool\u2019s compounding function for everyone.")}),Object(T.jsx)(d.f,{style:{fontWeight:"bold"},children:e("Auto-Compound Bounty: %fee%% of all Auto CAKE pool users\u2019 pending yield",{fee:i/100})})]})},i=st().callFee,l=Object(d.Z)(Object(T.jsx)(Kt,{cakeCallBountyToDisplay:r,dollarCallBountyToDisplay:c,totalPendingCakeRewards:a,callFee:i,TooltipComponent:o})),b=Object(s.a)(l,1)[0],u=Object(d.ab)(Object(T.jsx)(o,{}),{placement:"bottom-end",tooltipOffset:[20,10]}),j=u.targetRef,O=u.tooltip,x=u.tooltipVisible;return Object(T.jsxs)(T.Fragment,{children:[x&&O,Object(T.jsx)(Nt,{children:Object(T.jsxs)(d.l,{children:[Object(T.jsx)(d.t,{flexDirection:"column",children:Object(T.jsxs)(d.t,{alignItems:"center",mb:"12px",children:[Object(T.jsx)(d.O,{fontSize:"16px",bold:!0,color:"textSubtle",mr:"4px",children:e("Auto CAKE Bounty")}),Object(T.jsx)(d.f,{ref:j,children:Object(T.jsx)(d.v,{color:"textSubtle"})})]})}),Object(T.jsxs)(d.t,{alignItems:"center",justifyContent:"space-between",children:[Object(T.jsxs)(d.t,{flexDirection:"column",mr:"12px",children:[Object(T.jsx)(d.u,{children:r||Object(T.jsx)(d.K,{height:20,width:96,mb:"2px"})}),Object(T.jsx)(Yt,{fontSize:"12px",color:"textSubtle",children:c?"~ ".concat(c," USD"):Object(T.jsx)(d.K,{height:16,width:62})})]}),Object(T.jsx)(d.g,{disabled:!c||!r||!i,onClick:b,scale:"sm",children:e("Claim")})]})]})})]})};t.default=function(){var e=Object(l.h)().path,t=Object(m.b)().t,n=Object(j.c)().account,c=Object(g.f)(n),r=Object(g.a)().currentBlock,a=f(!1,"pancake_pool_staked"),i=Object(s.a)(a,2),b=i[0],O=i[1],p=Object(o.useMemo)((function(){return h()(c,(function(e){return e.isFinished||r>e.endBlock}))}),[r,c]),k=Object(s.a)(p,2),y=k[0],S=k[1],C=(Object(o.useMemo)((function(){return S.filter((function(e){return e.userData&&new u.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[S]),Object(o.useMemo)((function(){return y.some((function(e){return e.userData&&new u.a(e.userData.stakedBalance).isGreaterThan(0)}))}),[y])),F=Object(o.useMemo)((function(){return S.find((function(e){return 0===e.sousId}))}),[S]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(B,{background:"#101820",children:Object(T.jsxs)(d.t,{justifyContent:"space-between",flexDirection:["column",null,"row"],children:[Object(T.jsxs)(d.t,{flexDirection:"column",mr:["8px",0],children:[Object(T.jsx)(d.u,{as:"h1",size:"xxl",color:"secondary",mb:"24px",children:t("Graves")}),Object(T.jsx)(d.u,{size:"md",color:"text",children:t("Resurrect rugged tokens.")}),Object(T.jsx)(d.u,{size:"md",color:"text",children:t("Stake them for NFT rewards.")})]}),Object(T.jsx)(d.t,{height:"fit-content",justifyContent:"center",alignItems:"center",mt:["24px",null,"0"],children:Object(T.jsx)(qt,{})})]})}),Object(T.jsxs)(w.a,{children:[Object(T.jsx)(Ut,{stakedOnly:b,setStakedOnly:O,hasStakeInFinishedPools:C}),Object(T.jsxs)(v,{children:[Object(T.jsx)(l.b,{exact:!0,path:"".concat(e),children:Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(Et,{pool:F,account:n})})}),Object(T.jsx)(l.b,{path:"".concat(e,"/history"),children:x()(y,["sortOrder"]).map((function(e){return Object(T.jsx)(_e,{pool:e,account:n},e.sousId)}))})]}),Object(T.jsx)(d.x,{mx:"auto",mt:"12px",src:"/images/running-zombie-1.png",alt:"zombie running",width:207,height:142})]})]})}},730:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return b})),n.d(t,"b",(function(){return u}));var c=n(0),r=n(746),a=n(54),s=function(e){var t=Object(r.a)();return Object(c.useMemo)((function(){return Object(a.a)(e,t)}),[e,t])},o=function(){var e=Object(r.a)();return Object(c.useMemo)((function(){return Object(a.d)(e)}),[e])},i=function(){var e=Object(r.a)();return Object(c.useMemo)((function(){return Object(a.k)(e)}),[e])},l=function(){var e=Object(r.a)();return Object(c.useMemo)((function(){return Object(a.m)(e)}),[e])},b=function(e){var t=Object(r.a)();return Object(c.useMemo)((function(){return Object(a.r)(e,t)}),[e,t])},u=function(){var e=Object(r.a)();return Object(c.useMemo)((function(){return Object(a.e)(e)}),[e])}},738:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"i",(function(){return j})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return O})),n.d(t,"j",(function(){return x})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return g}));var c=n(3),r=n.n(c),a=n(8),s=n(19),o=n.n(s),i=n(218),l=n(751),b=n(41),u=function(){var e=Object(a.a)(r.a.mark((function e(t,n,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.approve(n.options.address,l.a.constants.MaxUint256).send({from:c}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),j=function(){var e=Object(a.a)(r.a.mark((function e(t,n,c,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n){e.next=2;break}return e.abrupt("return",t.methods.enterStaking(new o.a(c).times(i.f).toString()).send({from:a,gas:2e5}).on("transactionHash",(function(e){return e.transactionHash})));case 2:return e.abrupt("return",t.methods.deposit(n,new o.a(c).times(i.f).toString()).send({from:a,gas:2e5}).on("transactionHash",(function(e){return e.transactionHash})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(r.a.mark((function e(t,n){var c,a,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>2&&void 0!==s[2]?s[2]:18,a=s.length>3?s[3]:void 0,e.abrupt("return",t.methods.deposit(new o.a(n).times(b.a.pow(c)).toString()).send({from:a,gas:2e5}).on("transactionHash",(function(e){return e.transactionHash})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(r.a.mark((function e(t,n,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.deposit().send({from:c,gas:2e5,value:new o.a(n).times(i.f).toString()}).on("transactionHash",(function(e){return e.transactionHash})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.a)(r.a.mark((function e(t,n,c,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n){e.next=2;break}return e.abrupt("return",t.methods.leaveStaking(new o.a(c).times(i.f).toString()).send({from:a,gas:2e5}).on("transactionHash",(function(e){return e.transactionHash})));case 2:return e.abrupt("return",t.methods.withdraw(n,new o.a(c).times(i.f).toString()).send({from:a,gas:2e5}).on("transactionHash",(function(e){return e.transactionHash})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(r.a.mark((function e(t,n){var c,a,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.length>2&&void 0!==s[2]?s[2]:18,a=s.length>3?s[3]:void 0,"0x3B9B74f48E89Ebd8b45a53444327013a2308A9BC"!==t.options.address){e.next=4;break}return e.abrupt("return",t.methods.emergencyWithdraw().send({from:a}).on("transactionHash",(function(e){return e.transactionHash})));case 4:if("0xBb2B66a2c7C2fFFB06EA60BeaD69741b3f5BF831"!==t.options.address){e.next=6;break}return e.abrupt("return",t.methods.emergencyWithdraw().send({from:a}).on("transactionHash",(function(e){return e.transactionHash})));case 6:if("0x453a75908fb5a36d482d5f8fe88eca836f32ead5"!==t.options.address){e.next=8;break}return e.abrupt("return",t.methods.emergencyWithdraw().send({from:a}).on("transactionHash",(function(e){return e.transactionHash})));case 8:return e.abrupt("return",t.methods.withdraw(new o.a(n).times(b.a.pow(c)).toString()).send({from:a,gas:2e5}).on("transactionHash",(function(e){return e.transactionHash})));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(r.a.mark((function e(t,n,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.emergencyWithdraw().send({from:c}).on("transactionHash",(function(e){return e.transactionHash})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),m=function(){var e=Object(a.a)(r.a.mark((function e(t,n,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n){e.next=2;break}return e.abrupt("return",t.methods.leaveStaking("0").send({from:c,gas:2e5}).on("transactionHash",(function(e){return e.transactionHash})));case 2:return e.abrupt("return",t.methods.deposit(n,"0").send({from:c,gas:2e5}).on("transactionHash",(function(e){return e.transactionHash})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.deposit("0").send({from:n,gas:2e5}).on("transactionHash",(function(e){return e.transactionHash})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.deposit().send({from:n,gas:2e5,value:b.b}).on("transactionHash",(function(e){return e.transactionHash})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},746:function(e,t,n){"use strict";var c=n(32),r=n(0),a=n(175),s=n.n(a),o=n(57),i=n(65);t.a=function(){var e=Object(o.c)().library,t=Object(r.useRef)(e),n=Object(r.useState)(e?new s.a(e):Object(i.b)()),a=Object(c.a)(n,2),l=a[0],b=a[1];return Object(r.useEffect)((function(){e!==t.current&&(b(e?new s.a(e):Object(i.b)()),t.current=e)}),[e]),l}},747:function(e,t,n){"use strict";var c=n(6),r=(n(0),n(25)),a=n(137),s=n(127),o=n(12);t.a=function(e){var t=Object(s.b)().t,n=Object(a.a)(),i=n.login,l=n.logout,b=Object(r.bb)(i,l).onPresentConnectModal;return Object(o.jsx)(r.g,Object(c.a)(Object(c.a)({onClick:b},e),{},{children:t("Unlock Wallet")}))}},753:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return O}));var c=n(35),r=n(3),a=n.n(r),s=n(8),o=n(0),i=n(57),l=n(48),b=n(109),u=n(738),j=n(730),d=function(e){var t=Object(i.c)().account,n=Object(j.e)();return{onReward:Object(o.useCallback)(Object(s.a)(a.a.mark((function r(){var s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=e.reduce((function(e,r){return[].concat(Object(c.a)(e),[Object(u.b)(n,r,t)])}),[]),r.abrupt("return",Promise.all(s));case 2:case"end":return r.stop()}}),r)}))),[t,e,n])}},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(l.b)(),c=Object(i.c)(),r=c.account,d=Object(j.f)(e),O=Object(j.e)(),x=Object(o.useCallback)(Object(s.a)(a.a.mark((function c(){return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(0!==e){c.next=5;break}return c.next=3,Object(u.b)(O,0,r);case 3:c.next=12;break;case 5:if(!t){c.next=10;break}return c.next=8,Object(u.h)(d,r);case 8:c.next=12;break;case 10:return c.next=12,Object(u.g)(d,r);case 12:n(Object(b.h)(e,r)),n(Object(b.g)(e,r));case 14:case"end":return c.stop()}}),c)}))),[r,n,t,O,d,e]);return{onReward:x}}},772:function(e,t,n){"use strict";var c=n(32),r=n(0),a=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current};t.a=function(){var e=Object(r.useState)(Date.now()),t=Object(c.a)(e,2),n=t[0],s=t[1];return{lastUpdated:n,previousLastUpdated:a(n),setLastUpdated:function(){s(Date.now())}}}}}]);
//# sourceMappingURL=7.3a0db716.chunk.js.map